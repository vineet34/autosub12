from django.template.loader import get_templatefrom django.http import HttpResponse, Http404from django.template import Template, Contextfrom django.shortcuts import render_to_responsefrom django.views.generic.simple import direct_to_templatefrom django.db.models import Qfrom users.models import Userimport datetimedef registration_page_view(request):	if request.method == "GET":		page_title = "Member Registration"		return direct_to_template(request, 'register.html', locals())	if request.method == "POST":		reg_errors = []		if not request.POST.get('name',''):			reg_errors.append('Please enter your name.')		if not request.POST.get('rno',''):			reg_errors.append('Please enter your roll no.')		if request.POST.get('email') and '@' not in request.POST['email']:			reg_errors.append('Please provide a valid email address.')		if not request.POST.get('hostel',''):			reg_errors.append('Please enter your hostel.')		if not request.POST.get('cno',''):			reg_errors.append('Please provide your contact no.')					if reg_errors:			page_title = "Registration Unsuccessful"				return direct_to_template(request, 'register.html', locals())				else:			try:				_user_ = User.objects.filter(rno=request.POST['rno'] | email=request.POST['email'])			except:								_user_ = User(name=request.POST['name'],rno=request.POST['rno'],email=request.POST['email'],hostel=request.POST['hostel'],cno=request.POST['cno'],active='0')				_user_.save()				page_title = "Registration Successful"					message = "Your Registration Was Sucessful.";				return direct_to_template(request, 'register.html', locals())			else:				page_title = "Registration Unsuccessful"					message = "Your Are Already Registered.";				return direct_to_template(request, 'register.html', locals())		